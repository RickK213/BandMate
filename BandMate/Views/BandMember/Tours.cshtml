@using BandMate.Models
@model BandMate.Models.BandTourViewModel

@{
    ViewBag.Title = "Band Tours";
    Layout = "~/Views/Shared/_MemberLayout.cshtml";
}


<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">@Model.CurrentBand.Name Tours</h3>
    </div>
    <div class="panel-body">
        @if (Model.CurrentBandTours.Count>0)
        {
            <hr />
            <h4>Current Tours</h4>
            <table class="table table-striped table-condensed table-bordered">
                <tr>
                    <th>Tour Name</th>
                    <th>Tour Dates</th>
                    <th>Actions</th>
                </tr>
                @foreach (Tour tour in Model.CurrentBandTours)
                {
                    <tr>
                        <td>
                            @tour.Name
                        </td>
                        <td>
                            @tour.TourDates.Count Tour Dates
                        </td>
                        <td>
                            <a class="btn btn-xs btn-primary" href="@Url.Action("Details", "Tour", new { tourId = tour.TourId, bandId = Model.CurrentBand.BandId })"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> Tour Details</a>
                        </td>
                    </tr>
                }
            </table>
        }
        else
        {
            <div class="alert alert-danger">@Model.CurrentBand.Name does not have any tours yet.</div>
        }
    </div>
</div>
